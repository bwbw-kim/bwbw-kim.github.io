---
title: ğŸŒ² Springì˜ ê¸°ì´ˆ. ì˜ì¡´ì„± ì£¼ì… ì´í•´í•´ ë³´ê¸°
date: 2023-03-27
categories: [Spring & JAVA]
tags: [spring, basic, DI, dependency inject]
render_with_liquid: true
mermaid: true
---
#### ì˜ì¡´ì„± ì£¼ì…ì´ ì™œ í•„ìš”í• ê¹Œ?
---
Spring ì—ì„œëŠ” ì˜ì¡´ì„± ì£¼ì… (DI ë¼ê³ í•œë‹¤) ì´ ì œì¼ í° Spring ì˜ íŠ¹ì§•ì´ë¼ê³  ë§í• ìˆ˜ ìˆë‹¤. ì•„ì£¼ ì‰½ê²Œ ì˜ˆë¥¼ ë“¤ë©´

```java
class Employee {
    Employer employer;
    public Employee (){
        this.employer = new Employer();
    }
}
```
ì´ëŸ° ì½”ë“œê°€ ìˆë‹¤ê³  í•´ë³´ì! Employee ëŠ” í•­ìƒ ì•ˆì—ì„œ ìƒˆë¡œìš´ employerë¥¼ ë§Œë“¤ê³  ìˆë‹¤. ì¦‰ Employer ì— ì˜ì¡´í•˜ê³  ìˆë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.
í•˜ì§€ë§Œ ìœ„ì²˜ëŸ¼ ì½”ë“œë¥¼ ì§œë©´ Employer ë¥¼ extend í•œ ë‹¤ë¥¸ class ë¥¼ ë°›ì„ ìˆ˜ ì—†ê³  new Employer ë¡œ ì„ ì–¸ì´ ë˜ì—ˆê¸°ì— Class ê°„ì˜ ê´€ê³„ê°€ ìƒê²¨ë²„ë¦°ë‹¤.
ë”°ë¼ì„œ ìš”ë ‡ê²Œ ì½”ë“œë¥¼ ë³€í™” ì‹œì¼œ ë³´ë©´

```java
class Employee {
    Employer employer;
    public Employee (Employer employer){
        this.employer = employer;
    }
}
```
ì´ë ‡ê²Œ ë³€í™”í•œë‹¤. ì´ê±¸ ë°”ë¡œ ì˜ì¡´ì„± ì£¼ì…ì´ë¼ê³  í•˜ë©° ì´ë ‡ê²Œ ì½”ë“œë¥¼ ë³€í™”í•˜ë©´ ìš°ë¦¬ê°€ ì›í•˜ëŠ” employer ë¥¼ ë„£ì–´ì¤„ìˆ˜ ìˆìœ¼ë‹ˆ ê²°í•©ë„ê°€ ìƒë‹¹íˆ ë–¨ì–´ì§€ê³  ë„ Mock ê°ì²´ë¥¼ ë„£ì„ìˆ˜ ìˆì–´ì„œ junit test ë„ í›¨ì”¬ ê°„ë‹¨í•´ì§€ê³ 
ì•„ì£¼ ë‹¤ì–‘í•œ ì¥ì ì´ ìˆë‹¤!

#### ì˜ì¡´ì„± ì£¼ì… í•´ë³´ê¸°, Bean
---
Spring ì—ì„œëŠ” ì´ ì˜ì¡´ì„± ì£¼ì…ì„ ë§¤ìš° ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤. ì˜ì¡´ì„± ì£¼ì…ì„ ë‹¹í•˜ëŠ” class (ìœ„ì—ì„œ employer) ë¥¼ Bean ì— ë“±ë¡ì„ í•œë‹¤. Bean ì— ë“±ë¡í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆë‹¤.
1. Annotation ë¶™ì´ê¸°
   ```java
   @Component
   class Employer {
    ...
   }
   ```
   ì´ë ‡ê²Œ í•˜ë©´ ì•„ì£¼ ì†ì‰½ê²Œ Employer ì„ Bean ì— ë“±ë¡ í•  ìˆ˜ ìˆë‹¤. (Service(ì„œë¹„ìŠ¤), Controller (í‘œí˜„), Repository(DAO) ëª¨ë‘ ê°€ëŠ¥í•˜ë©° ì—­í• ë„ ê°™ì€ë° í¸ì˜ìƒ ë‚˜ëˆ„ì–´ ë†“ì€ ê²ƒì´ë‹¤!) ì´ ë°©ë²•ì„ ìš°ë¦¬ëŠ” ì œì¼ ë§ì´ ì‚¬ìš©í•œë‹¤.
2. resource í´ë”ì˜ application.xml ì— ì¶”ê°€í•˜ê¸°
   ```xml
    <?xml version="1.0" encoding="UTF-8"?>
    <beans>
        <bean id="Employer"
            class="com....Employer">
        </bean>
    </beans>
   ```
3. ApplicationConfig.java ì—ì„œ ì„¤ì •í•´ì£¼ê¸°
    ```java
    @Configuration 
    public class ApplicationConfig {
        @Bean
        public Employer employer() {
            Employer employer = new Employer();
            return employer;
        }
    }
    ```

Bean ì— ë“±ë¡ëœ ê°ì²´ë“¤ì€ ëª¨ë‘ Singleton ì²˜ëŸ¼ ë™ì‘í•˜ê²Œ ëœë‹¤!

#### Bean ì‚¬ìš©í•˜ê¸°
---
ì´ì œ Bean ì— ë“±ë¡ì„ í–ˆìœ¼ë©´ ì´ì œ Employee class ì—ì„œ ì‚¬ìš©ì„ í•˜ë©´ ëœë‹¤.
```java
class Employee {
    Employer employer;

    @Autowired
    public Employee (Employer employer){
        this.employer = employer;
    }
}
```
ì´ë ‡ê²Œë„ ì“¸ìˆ˜ ìˆë‹¤
```java
class Employee {
    @Autowired
    Employer employer;
}
```
í•˜ì§€ë§Œ spring ê³µì‹ë¬¸ì„œì—ì„œëŠ” ìƒì„±ì(Constructor) ì—ì„œ ì£¼ì…í•˜ëŠ”ê²ƒì„ ê¶Œì¥í•œë‹¤ê³  í•œë‹¤!
