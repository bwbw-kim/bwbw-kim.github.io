---
title: ğŸ¥Œ ì˜µì €ë²„ íŒ¨í„´ ì´í•´í•´ë³´ê¸°
date: 2024-08-14
categories:
  - Design Pattern
tags:
  - design
  - behavioral
  - observer
render_with_liquid: true
mermaid: true
---
#### ì˜µì €ë²„ íŒ¨í„´ì´ ë­˜ê¹Œ??
---
ì˜µì €ë²„ íŒ¨í„´ì€ ì–´ë–¤ í•˜ë‚˜ì˜ publisher class ê°€ ì–´ë–»ê²Œ ë³€í™”í•˜ëŠ”ì§€ ì–´ë–»ê²Œ í–‰ë™í•˜ëŠ” subscribe ë¼ëŠ” í–‰ë™ìœ¼ë¡œ êµ¬ë…í•˜ê³  ë³€í™”ê³¼ì • í–‰ë™ê³¼ì •ì„ ë°›ì•„ ë³¼ ìˆ˜ ìˆëŠ” íŒ¨í„´ì´ë‹¤! ìƒê°ë³´ë‹¤ ê°„ë‹¨í•˜ë‹¤! í•œë²ˆ êµ¬í˜„í•´ë³´ì!

ì˜ˆë¥¼ ë“¤ì–´ í™ˆí”ŒëŸ¬ìŠ¤ê°€ ìˆë‹¤ê³  ì¹˜ì. ê·¸ë¦¬ê³  ì‚¬ëŒ í•œëª… í•œëª…ì´ ê·¸ í™ˆí”ŒëŸ¬ìŠ¤ì— ì—…ë°ì´íŠ¸ë˜ëŠ” ì œí’ˆë“¤ì„ êµ¬ë…í•˜ëŠ” ì½”ë“œë¥¼ ë§Œë“¤ì–´ ë³´ê² ë‹¤!

ì˜µì €ë²„ í´ë˜ìŠ¤ì—ëŠ” publisher class ê°€ ì—…ë°ì´íŠ¸ë¥¼ ì•Œë¦¬ë ¤ê³ í• ë•Œ update method ë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤. ì•„ë˜ì˜ ì½”ë“œì—ì„œ update ëŠ” ì´ì œ publisher class ê°€ ì—…ë°ì´íŠ¸ ë˜ì—ˆì„ë•Œ ì•„ë˜ì˜ method ë¥¼ í†µí•´ ì•Œë ¤ì£¼ëŠ” ì—­í• ì´ë‹¤.

```java
public interface People {
	void update(String content);
}

public class Wook implements People {
	public void update(String content) {
		//contentê°€ ì—…ë°ì´íŠ¸ ë˜ì—ˆì–´ìš©
	}
}
```

ì˜µì €ë²„ê°€ ê´€ì°°í•˜ë ¤ê³ í•˜ëŠ” publisher class ëŠ” subscribe, unsubscribe ê·¸ë¦¬ê³  broadcast ì²˜ëŸ¼ ì˜µì €ë²„ë“¤ì—ê²Œ ì•Œë¦¬ëŠ” ë©”ì†Œë“œë¥¼ í¬í•¨í•´ ì¤€ë‹¤.

```java
public interface Publisher {
	void subscribe (People people);
	void unsubscribe (People people);
	void broadcast (String content);
}

public class Homeplus implements Publisher {
	List<People> peopleList = new ArrayList<People>;
	public void updateItem (String itemName) {
		// ì•„ì´í…œ ì—…ë°ì´íŠ¸ ì½”ë“œ
		broadcast(itemName + "ì´ ì¶”ê°€ë˜ì—ˆì–´ìš”");
	}

	public void subscribe (People people) {
		peopleList.add(people);
	}

	public void unsubscribe (People people) {
		peopleList.remove(people);
	}

	public void broadcast (String content) {
		peopleList.foreach(people -> people.update(content));
	}
	
}
```

ê·¸ëŸ¼ ì´ì œ ì•„ë˜ì²˜ëŸ¼ ì½”ë“œë¥¼ ë§Œë“¤ë©´ ì´ì œ wookì´ homeplus ë¥¼ êµ¬ë…í•œ ì…ˆì´ ë˜ëŠ”ê²ƒì´ë‹¤.

```java
Wook wook = new Wook();
Homeplus homeplus = new Homeplus();
homeplus.subscribe(wook);
```

ì´ì œ homeplus ì— ìƒˆë¡œìš´ í’ˆëª©ì´ `updateItem` ìœ¼ë¡œ ì¶”ê°€ê°€ ëœë‹¤ë©´ wook ë„ ì•Œë¦¼ì„ ë°›ê²Œ ëœë‹¤!

#### ì–¸ì œ ì‚¬ìš©í•˜ë©´ ë ê¹Œ ?
---
ìœ„ì—ì²˜ëŸ¼ 1 ëŒ€ n ëŒ€ì‘ ê´€ê³„ì— ìˆëŠ” êµ¬ì¡°ë¼ë©´ ì˜µì €ë²„ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ìœ ìš©í•˜ë‹¤.
ë˜í•œ ì£¼ê¸°ì ìœ¼ë¡œ ê³„ì†í•´ì„œ homeplus ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ì¥ì ì´ ìˆë‹¤!!

#### ì£¼ì˜í•´ì•¼ í• ì 
---
ì£¼ì˜í•´ì•¼í• ì ë„ ì—´ì‹¬íˆ ì°¾ì•„ë´¤ë‹¤. ìš°ì„  list ë¡œ observer ë“¤ì´ êµ¬ì„±ë˜ì–´ìˆì–´ì„œ ìˆœìœ„ê°€ ì—†ë‹¤. ì´ë¥¼ ìˆœì„œê°€ ìˆë„ë¡ í•  ìˆ˜ ìˆì§€ë§Œ ì¢‹ì€ ë°©ë²•ì€ ì•„ë‹ˆë¼ê³  í•œë‹¤! ë˜í•œ observer ê°€ ì—†ì–´ì§ˆë• ê¼­ unsubscribe í•˜ê³  ë©”ëª¨ë¦¬ í•´ì œë¥¼ í•´ì£¼ì–´ì•¼ mem leak ì˜ ë¬´ì„œì›€ì—ì„œ ë²—ì–´ ë‚  ìˆ˜ ìˆë‹¤!