---
title: ğŸ¥Œ ì˜µì €ë²„ íŒ¨í„´ ì´í•´í•´ë³´ê¸°
date: 2024-08-19
categories:
  - Design Pattern
tags:
  - design
  - behavioral
  - memento
render_with_liquid: true
mermaid: true
---
#### ë©”ë©˜í†  íŒ¨í„´ì´ ë­˜ê¹Œ??
---
ë©”ë©˜í†  íŒ¨í„´ì€ ì–´ë– í•œ class ì˜ ìƒíƒœë¥¼ ê³„ì†í•´ì„œ ì €ì¥í•˜ê³  ì›í• ë•ŒëŠ” ì´ì „ì˜ ìƒíƒœë¡œ ëŒì•„ ê°ˆ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” íŒ¨í„´ì„ ë§í•œë‹¤! ë§ˆì¹˜... ì˜í™” ë©”ë©˜í† ì—ì„œ ìì‹ ì˜ ëª¸ì— ë¬¸ì‹ ì„ ìƒˆê²¨ ê¸°ì–µì„ ìœ ì§€í•˜ëŠ”ê±° ì²˜ëŸ¼ ë©”ë©˜í†  íŒ¨í„´ì€ íŠ¹ì • class ì— ìì‹ ì˜ ì˜ˆì „ state ë¥¼ ìƒˆê²¨ ì €ì¥í•˜ê³  ì›í• ë•Œ ëŒì•„ê°„ë‹¤!

OriginalClass ê°€ ìƒíƒœë¥¼ ì €ì¥ í˜¹ì€ ë¶ˆëŸ¬ì˜¤ê¸°ë¥¼ ë‹¹í•˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. ë”°ë¼ì„œ í•´ë‹¹ í´ë˜ìŠ¤ ë‚´ë¶€ì—ëŠ” `saveStatesToMemento` ê·¸ë¦¬ê³  `getStatesFromMemento` ì™€ ê°™ì´ state ë¥¼ êº¼ë‚´ê³  ë¶ˆëŸ¬ì˜¤ëŠ” ë©”ì†Œë“œë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤.

```java
public class OriginalClass {
    private String state1;
    private String state2;

	public OriginalClass (String state) {
		this.state1 = state1;
		this.state2 = state2;
	}
	
    public Memento saveStatesToMemento(){
        return new Memento(state1, state2);
    }

    public void getStatesFromMemento(Memento memento){
        state1 = memento.getStates().get("state1");
        state2 = memento.getStates().get("state2");
    }
}

public class Memento {
	private Map<String, String> statesMap = new HashMap<String, String>();
	public Memento(String state1, String state2) {
		statesMap.put("state1", state1);
		statesMap.put("state2", state2);
	}	

	public Map<String, String> getStates() {
		return statesMap;
	}
}
```

ê·¸ëŸ¬í•œ ìƒíƒœë“¤ì€ Memento class ë¥¼ í†µí•´ì„œ ì™”ë‹¤ ê°”ë‹¤ í•œë‹¤! ì´ì œ ì´ Memento ë“¤ì„ list ë¡œ ì €ì¥í•˜ëŠ” ê°ì²´ë§Œ ìˆìœ¼ë©´ ëœë‹¤! ë³´í†µ caretaker ë¼ëŠ” class ëª…ì„ ì‚¬ìš©í•œë‹¤!

```java
public class CareTaker {
    private List<Memento> mementoList = new ArrayList<Memento>();

    public void add(Memento state){
        mementoList.add(state);
    }

    public Memento get(int index){
        return mementoList.get(index);
    }
}
```

#### ì–¸ì œ ì“°ë©´ ì¢‹ì„ê¹Œ ?
---
ë‹¹ì—°íˆ ì˜ˆì „ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ìˆì–´ì•¼í•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©ë˜ë©´ ì¢‹ì„ ê²ƒì´ë‹¤! ìš°ë¦¬ í”Œë«í¼ì˜ ê²½ìš°ì—ëŠ” ê¸€ì„ ì‘ì„±í•˜ëŠ” ìƒí™©ì—ì„œ ë©”ë©˜í†  íŒ¨í„´ì„ ì ìš© ì‹œì¼œ ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. 

ê¸€ì„ ì‘ì„±í•˜ë‹¤ ë³´ë©´ ê°„í˜¹ ctrl + z ë¡œë„ ì•ˆë˜ëŠ” ìƒí™©ì´ ê°€ë” ìˆëŠ”ë° 20ì´ˆì— í•œë²ˆì”© ì €ì¥í•˜ê³  caretaker ì— í•˜ë‚˜ì”© í•˜ë‚˜ì”© ìŒ“ë‹¤ê°€ ê¸€ì„ post í•˜ë©´ memento ë¥¼ ì‹¹ ë‚ ë ¤ë²„ë¦¬ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ë©´ ì¢‹ì„ ê±° ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤!

ë­”ê°€ ë¹„ìŠ·í•˜ì§€ë§Œ ì í•©í•˜ì§€ ì•Šì€ ì‚¬ë¡€ë„ ìˆì„ ê²ƒ ê°™ë‹¤. ìš°ë¦¬ í”Œë«í¼ì€ ë˜ revision ì´ë¼ê³  ì–´ë–¤ ê¸€ì„ ìˆ˜ì •í•˜ë©´ ìˆ˜ì •í•˜ê¸° ì „ ìƒíƒœë¥¼ ì €ì¥í•´ë†“ê³ ìˆëŠ”ë° ì´ ê¸°ë¡ì€ êµ‰ì¥íˆ ì˜¤ë˜ ìœ ì§€ê°€ ë˜ì–´ì•¼í•œë‹¤. ë”°ë¼ì„œ ì—¬ê¸°ì—ì„œëŠ” ë©”ë©˜í†  íŒ¨í„´ì„ ì ìš©í•˜ê¸°ì—ëŠ” memory ì‚¬ìš©ëŸ‰ì´ ë¬¸ì œê°€ ë ê²ƒê°™ë‹¤. ì—¬ê¸°ì—ëŠ” ì í•©í•˜ì§€ ì•Šì€ê±° ê°™ë‹¤!!

#### ì¥ì ì´ ë­˜ê¹Œ?
---
ì´ë ‡ê²Œ êµ¬í˜„ì„ í•˜ë©´ ë˜ ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ëŠ” ë™ì‘ë“¤ì´ caretakerì—ê²Œ ìœ„ì„ì´ ë˜ê¸°ì— originalClass ëŠ” ê¹”ë”í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.

#### ë‹¨ì ì´ ë­˜ê¹Œ?
---
ë©”ëª¨ë¦¬ì— í•´ë‹¹ ê¸°ë¡ì´ ê³„ì† ìŒ“ì´ê²Œ ë˜ë©´ ì‚¬ìš©ëŸ‰ì´ ë§ì´ ëŠ˜ì–´ë‚ ê²ƒì´ë‹¤. ë”°ë¼ì„œ ì ì ˆí• ë•Œ flush í•´ì£¼ëŠ” ë™ì‘ì´ í•„ìš”í• ê²ƒ ê°™ë‹¤!