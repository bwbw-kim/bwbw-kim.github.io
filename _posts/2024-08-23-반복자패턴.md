---
title: ğŸ”„ ë°˜ë³µì íŒ¨í„´ ì´í•´í•´ë³´ê¸°
date: 2024-08-23
categories:
  - Design Pattern
tags:
  - design
  - behavioral
  - iterator
render_with_liquid: true
mermaid: true
---
#### ë°˜ë³µì íŒ¨í„´ì´ ë­˜ê¹Œ?
---
ë°˜ë³µì íŒ¨í„´ì´ë€ ë‚´ê°€ ì›í•˜ëŠ” ì–´ë– í•œ class ë“¤ì´ ì«™ ìˆë‹¤ê³  í–ˆì„ë•Œ ìƒì„±ëœ ê·¸ ëª¨ë“  ì¹œêµ¬ë“¤ì„ ì«™ ëŒê³  ì‹¶ì„ë•Œ ì‚¬ìš© í•  ìˆ˜ ìˆëŠ” íŒ¨í„´ì´ë‹¤. ë­”ê°€ ì „ì²´ì ìœ¼ë¡œ ì¶”ê°€í•˜ê³ ì‹¶ì€ê²Œ ìˆë‹¤ê±°ë‚˜ ì „ì²´ì ìœ¼ë¡œ íŠ¹ì • í–‰ë™ì„ ì·¨í•˜ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•˜ë©´ ëœë‹¤! êµ¬í˜„ë„ ì•„ì£¼ ì‰½ë‹¤! ì˜ˆë¥¼ ë“¤ë©´ ì•„ë˜ì™€ ê°™ì€ class ê°€ ìˆë‹¤ê³  í•´ë³´ì!

```java
public class Phone {
    private String id;

    public Phone(String id) {
        this.id = id;
    }

    public String getId() {
        return id;
    }
}
```

ì—¬ëŸ¬ê³³ì—ì„œ book ì´ ê³„ì† ìƒê¸¸ê²ƒì´ê³  ìš°ë¦¬ëŠ” ì—¬ê¸°ì—ì„œ ì—¬ëŸ¬ê°œì˜ bookì„ í•œë²ˆì— iteratorë¡œ ëŒìˆ˜ìˆë„ë¡ ë§Œë“¤ê³  ì‹¶ì€ ê²ƒì´ë‹¤!

```java
public interface Aggregate {
    Iterator createIterator();
}

public class PhoneAggregate implements Aggregate {
    private List<Phone> phoneList;

    â€‹public BookShelf(int size) {
        phoneList = new ArrayList<Phone>();
    }

	public int getLength() {
		return phoneList.size();
	}

    public Phone getPhone(int index) {
        return phoneList.get(index);
    }

    public void addPhone(Phone phone) {
		phoneList.add(phone);
    }

    @Override
    public Iterator createIterator() {
        return new PhoneAggregateIterator(this);
    }
}

public class PhoneAggregateIterator implements Iterator<Phone> {
    private PhoneAggregate phoneAggregate;
    private int index = 0;

    public PhoneAggregateIterator(PhoneAggregate phoneAggregate) {
        this.phoneAggregate = phoneAggregate;
    }

    @Override
    public boolean hasNext() {
        return index < bookShelf.getLength();
    }

    @Override
    public Phone next() {
        return phoneAggregate.getPhone(index++);
	}
}
```

ì´ë ‡ê²Œ êµ¬ì¡°ë¥¼ ì¡ìœ¼ë©´ Phone ì„ ìƒì„±í•œë‹¤ìŒ PhoneAggregate ì—¬ê¸°ì— ë„£ì–´ì£¼ê¸°ë§Œ í•˜ë©´ ì–¸ì œë“ ì§€ ì „ì²´ phone List ë¥¼ iterate í•  ìˆ˜ ìˆê²Œ ëœë‹¤!

ì‚¬ìš©ì€ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ ëœë‹¤!

```java
PhoneAggregate phoneAggregate = new PhoneAggregate();

Phone phone1 = new Phone("id");
Phone phone2 = new Phone("id_");

phoneAggregate.addPhone(phone1);
phoneAggregate.addPhone(phone2);

Iterator it = phoneAggregate.createIterator();
while (it.hasNext()) {
	Phone phone = (Phone) it.next();
	// ì‘ì—…
}
```

#### ì–´ë–¤ ìƒí™©ì—ì„œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ?
---
ì‘ì—… í•˜ëŠ” ì‚¬ëŒì€ ì•ˆì˜ ì»¬ë ‰ì…˜ì´ ì–´ë–¤ ë™ì‘ì„ í•˜ëŠ”ì§€ í¬ê²Œ ì‹ ê²½ì“°ì§€ ì•Šê³  ì „ì²´ë¥¼ ëŒê³  ì‹¶ì„ë•Œ ì•„ì£¼ ì‰½ê²Œ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤! ëª¨ë“  í•­ëª©ì— ì ‘ê·¼í•˜ëŠ” ì‘ì—…ì„ ì•„ì£¼ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ë„ ìˆë‹¤!